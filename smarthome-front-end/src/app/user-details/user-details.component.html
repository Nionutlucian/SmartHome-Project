<mat-dialog-content class="userdetails">
    <div class="centre" fxFlex="100%">
        <mat-card class="example-card">
            <mat-card-header>
                <mat-card-title>User Details</mat-card-title>
            </mat-card-header>
            <div class="form-div">
                <mat-card-content>
                    <form class="example-form">
                        <table class="example-full-width" cellspacing="0">
                            <tr>
                                <td>
                                    <mat-form-field class="example-full-width">
                                        <input matInput placeholder="First Name" value="{{userDetails.firstName}}" readonly>
                                    </mat-form-field>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <mat-form-field class="example-full-width">
                                        <input matInput placeholder="Last Name" value="{{userDetails.lastName}}" readonly>
                                    </mat-form-field>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <mat-form-field class="example-full-width">
                                        <input matInput placeholder="Email" value="{{userDetails.email}}" readonly>

                                    </mat-form-field>

                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <mat-form-field fxFlex="100%">
                                        <input [(ngModel)]="userDetails.password" matInput placeholder="Password" type="password"
                                            name="password" [formControl]="passwordFormControl" value="{{userDetails.password}}">
                                        <mat-error *ngIf="!passwordFormControl.hasError('minLength')">
                                            Password must contain at least 8 characters(One uppercase letter and a
                                            number)
                                        </mat-error>
                                    </mat-form-field>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <mat-form-field class="example-full-width">
                                        <input matInput placeholder="Adress" value="{{userDetails.adress}}" readonly>
                                    </mat-form-field>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <mat-form-field class="example-full-width">
                                        <input (keyup)="checkIfPhoneNumberAlreadyExist($event)"
                                            [(ngModel)]="userDetails.phoneNumber" matInput placeholder="Phone number" 
                                            [formControl]="phoneFormControl">
                                    </mat-form-field>
                                    <mat-error>
                                        <span *ngIf="phoneAlreadyExist">Phone number already exist!</span>
                                    </mat-error>
                                </td>
                            </tr>
                        </table>
                    </form>
                    <mat-spinner [style.display]="showSpinner ? 'block' : 'none'"></mat-spinner>
                </mat-card-content>
            </div>
            <mat-card-actions>
                <button (click)="updateUserDetails(password,userDetails.phoneNumber)" mat-raised-button
                    color="primary" fxFlex="50%" [disabled]="(bool && !(
                                            !passwordFormControl.hasError('minLength') 
                                           && !passwordFormControl.hasError('pattern')
                                            && !phoneAlreadyExist))">Save changes</button>
                <button mat-raised-button color="primary" fxFlex="50%" (click)="close()">&nbsp;&nbsp;Exit</button>
            </mat-card-actions>
        </mat-card>
    </div>
</mat-dialog-content>